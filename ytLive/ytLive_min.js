function YTLiveTestEvent(e){const t=["Lioran","Melonax","Sebas","Cyanidesugar","Ramsreef","MisterK","Silverlink","Daryl","MrRubberDucky","MrWaldo","Andilippi","Edu","kelvin214","wellzish","Lyfesaver"],a=["Hello World!","Alright, I'll be honest with ya, Bob. My name's not Kirk. It's Skywalker. Luke Skywalker.","Well, that never happened in any of the simulations.","You know, you blow up one sun and suddenly everyone expects you to walk on water.","How's a needle in my butt gonna get water out of my ears?","If you immediately know the candle light is fire, then the meal was cooked a long time ago.","So it's possible there's an alternate version of myself out there that actually understands what the hell you're talkin' about?","It costs nearly a billion dollars just to turn the lights on around here"],n=t[Math.floor(Math.random()*t.length)],s=a[Math.floor(Math.random()*a.length)],i="UCxyGT_zXVj_w_7xX2-qpyeA",o="https://www.youtube.com/channel/UCxyGT_zXVj_w_7xX2-qpyeA",r="https://yt3.ggpht.com/yti/APfAmoHK19lqCTj6gFk3V8yFcwKZgtbbHOC919KExcrV=s108-c-k-c0x00ffffff-no-rj";switch(e.id){default:break;case"ytLiveTestSub":LBTriggerExt("YT Live Subscriber",n,i,r);break;case"ytLiveTestMember":LBTriggerExt("YT Live Member",n,"Some level name",i,o,r);break;case"ytLiveTestMilestone":{const e=document.getElementById("YTLiveMilestoneMonth").value||Math.ceil(10*Math.random()),t=document.getElementById("YTLiveMilestoneLevel").value||"Some level name",a=document.getElementById("YTLiveMilestoneMsg").value||s;LBTriggerExt("YT Live Member Milestone",n,t,`${e}`,a,i,o,r)}break;case"ytLiveTestSuperChat":{const e=document.getElementById("YTLiveSuperChatAmount").value||Math.ceil(1e8*Math.random()),t=document.getElementById("YTLiveSuperChatTier").value||Math.ceil(5*Math.random()),a=document.getElementById("YTLiveSuperChatMsg").value||s;LBTriggerExt("YT Live Super Chat",n,`${e}`,`USD$${Math.round(e/1e6)}.00`,`${t}`,a,i,o,r)}break;case"ytLiveTestSuperSticker":{const e=document.getElementById("YTLiveSuperStickerAmount").value||Math.ceil(1e8*Math.random()),t=document.getElementById("YTLiveSuperStickerTier").value||Math.ceil(5*Math.random());LBTriggerExt("YT Live Super Sticker",n,`${e}`,`USD$${Math.round(e/1e6)}.00`,t,i,o,r,"pearfect_hey_you_v2","Pear character turning around waving his hand, saying Hey you while lowering his glasses")}break;case"ytLiveTestChatMessage":{const e=document.getElementById("YTLiveChatMessageName").value||n,t=document.getElementById("YTLiveChatMessageMsg").value||s,a=[];YTLiveChatMessageBroadcaster.checked&&a.push("broadcaster/1"),YTLiveChatMessageMod.checked&&a.push("moderator/1"),YTLiveChatMessageVerified.checked&&a.push("vip/1"),YTLiveChatMessageMember.checked&&a.push("subscriber/1");const c={emotes:r,login:e.toLowerCase(),display_name:e,user_id:i,color:0,badge:a.join(","),message:t.replace(/"/g,"'"),channel:o,topic:"chatmessage",type:"MESSAGE"};lioranboardclient.send(JSON.stringify(c))}}}async function YouTubeLiveINIT(e){window.ytLiveSession=window.ytLiveSession||{};const t=window.ytLiveSession,a=JSON.parse(sessionStorage.getItem("ytLiveParams"))||{},n=JSON.parse(localStorage.getItem("ytLiveStorage"))||{},s=6e4,i={red:["137","2","2"],blue:["0","0","218"],orange:["211","119","2"],green:["51","197","0"]};let o=0;t.ignoreMessages=t.ignoreMessages||[],t.myBroadcastInfo=t.myBroadcastInfo||{},t.errors=t.errors||[],n.channelIds=n.channelIds||{},n.banlist=n.banlist||{},n.myChannelInfo=n.myChannelInfo||{};const r=document.getElementById("ytLiveErrors"),c=document.getElementById("ytLiveErrorsSave"),l=document.getElementById("ytLiveBroadcastTitle"),u=document.getElementById("ytLiveBroadcastDur"),d=document.getElementById("ytLiveBroadcastViews"),m=document.getElementById("ytLiveBroadcastLikes"),h=document.getElementById("ytLiveBroadcastDislikes"),p=document.getElementById("ytLiveBroadcastViewers"),g=document.getElementById("ytLiveReplay"),y=document.getElementById("ytLiveReplaylog"),v=document.getElementById("ytLiveEventCheckbox"),b=document.getElementById("ytLiveReplaybutton"),f=document.getElementById("ytLivePayloadbutton");function T(e,a,n=Date.now()){const s="NewSubscriber"===e?"Subscriber":"newSponsorEvent"===e?"Sponsor":"superChatEvent"===e?"Super Chat":"superStickerEvent"===e?"Super Sticker":"memberMilestoneChatEvent"===e?"Member Milestone":"chatEndedEvent"===e?"Chat Ended":e,i="NewSubscriber"===e?`${s}: ${a.subscriberSnippet.title}`:"chatEndedEvent"===e?e:`${s}: ${a.authorDetails.displayName}`,{length:o}=g;o>=15&&g.removeChild(g.options[o-1]);const r=document.createElement("option");r.setAttribute("id",n),r.setAttribute("value",e),r.innerHTML=i,g.prepend(r),t.replays||(t.replays={}),t.replays[n]=JSON.stringify(a),Object.keys(t.replays).length>=15&&(t.replays=Object.keys(t.replays).slice(0,15).reduce((e,a)=>(e[a]=t.replays[a],e),{}))}async function L(t=!1){(!a.accessToken||a.accessTokenExpires-Date.now()<6e4)&&(a.accessToken=null,await async function(){const t=await fetch("https://fq4adpt9rc.execute-api.us-west-2.amazonaws.com/main/accesstoken",{headers:{Authorization:e}}),a=await t.json();if(!t.ok){const e=a.error?a.error.message||a.error:"Something went wrong.";throw e}return a}().then(e=>{a.accessToken=e.access_token,a.accessTokenExpires=Date.now()+1e3*e.expires_in-6e4,sessionStorage.setItem("ytLiveParams",JSON.stringify(a))}).catch(e=>{B("access token",e),w("Token error","orange")})),window.YTTokenTimeout&&clearTimeout(window.YTTokenTimeout),t&&(window.YTTokenTimeout=setTimeout(()=>{L(!0)},a.accessTokenExpires-Date.now()||55*s))}function I(e){let i;if("string"==typeof e.data&&"3"===e.data.slice(0,1)&&e.data.includes("YouTubeLive"))switch("YouTubeLiveListener"===(i=JSON.parse(e.data.slice(2,e.data.length))).datatype?L(!0):L(!1),i.datatype){default:break;case"YouTubeLiveChatMessage":!async function(e){a.chatID||await S();if(!a.chatID)return void B("Send message","No Chat ID found!");const n={snippet:{liveChatId:a.chatID,type:"textMessageEvent",textMessageDetails:{messageText:e}}};await k("liveChat/messages?part=snippet",null,"POST",n).then(e=>t.ignoreMessages.push(e.id)).catch(e=>B("Send message",e.message))}(i.message);break;case"YouTubeLiveListener":!async function(e){if(t.status&&"Listening"===(null==t?void 0:t.status[0])&&t.subTimeout&&t.chatTimeout&&t.broadcastStatsTimeout)return void console.log("returning");if(o=0,a.chatID=null,a.broadcastID=null,await S(e),!a.chatID)return;LBTriggerExt("YTLiveErrorsReset"),async function e(){t.broadcastStatsTimeout&&clearTimeout(t.broadcastStatsTimeout);if(!a.broadcastID)return;const n=`videos?id=${a.broadcastID}&part=snippet,statistics,liveStreamingDetails`;await k(n,"getBroadcastStats").then(e=>{var a;const n=e.items[0],s=moment(n.liveStreamingDetails.actualStartTime),i=moment(new Date),o=moment.duration(i.diff(s)).asHours().toFixed(1);t.myBroadcastInfo={title:n.snippet.title,categoryID:n.snippet.categoryId,description:n.snippet.description,duration:o,viewCount:n.statistics.viewCount,likeCount:n.statistics.likeCount,dislikeCount:n.statistics.dislikeCount,concurrentViewers:(null==n?void 0:null===(a=n.liveStreamingDetails)||void 0===a?void 0:a.concurrentViewers)||"0"},l.innerHTML=t.myBroadcastInfo.title,u.innerHTML=`${t.myBroadcastInfo.duration} hours`,d.innerHTML=t.myBroadcastInfo.viewCount,m.innerHTML=t.myBroadcastInfo.likeCount,h.innerHTML=t.myBroadcastInfo.dislikeCount,p.innerHTML=t.myBroadcastInfo.concurrentViewers}).catch(e=>B("Get Broadcast Stats",e.message));t.broadcastStatsTimeout=setTimeout(()=>{e()},1*s)}(),async function e(){let s=t.myBroadcastInfo.concurrentViewers>10?2e3:t.myBroadcastInfo.concurrentViewers>3?5e3:1e4;t.chatTimeout&&clearTimeout(t.chatTimeout);const i=t.chatPageToken||"";const r=`liveChat/messages?part=snippet&part=authorDetails&liveChatId=${a.chatID}&pageToken=${i}&profileImageSize=500`;await k(r).then(e=>{if(t.chatPageToken)for(let a=0;a<e.items.length;a++){const s=e.items[a];t.ignoreMessages.includes(s.id)?t.ignoreMessages.indexOf(s.id)===t.ignoreMessages.length-1&&(t.ignoreMessages=[]):(n.channelIds[s.authorDetails.displayName.toLowerCase()]=s.authorDetails.channelId,C("chat",s))}o=0,s=e.pollingIntervalMillis>s?e.pollingIntervalMillis:s,t.chatPageToken=e.nextPageToken}).catch(e=>{o+=1,"pageTokenInvalid"===e.reason?t.chatPageToken="":"liveChatEnded"===e.reason?(o=100,LBTriggerExt("YT Live Chat Ended"),w("Chat Ended.","red"),t.subTimeout&&clearTimeout(t.subTimeout),t.broadcastStatsTimeout&&clearTimeout(t.broadcastStatsTimeout)):(B("Chat Listener",e.message),w("Chat Listener Error","orange"))});o<20&&(t.chatTimeout=setTimeout(()=>{e()},s))}(),async function e(){let n;t.subTimeout&&clearTimeout(t.subTimeout);const i={Authorization:`Bearer ${a.accessToken}`,"If-None-Match":t.subEtag||void 0};const o=await fetch("https://www.googleapis.com/youtube/v3/subscriptions?part=snippet&part=subscriberSnippet&myRecentSubscribers=true&maxResults=50",{headers:i});try{n=await o.json()}catch(e){}if(o.ok){if(t.subEtag)for(let e=0;e<n.items.length;e++){const a=new Date(n.items[e].snippet.publishedAt).getTime();t.lastSub<a&&C("NewSubscriber",n.items[e])}t.subEtag=n.etag,t.lastSub=new Date(n.items[0].snippet.publishedAt).getTime()}else if(304!==o.status){const e=n.error?n.error.message||n.error:"Something went wrong.";B("Subscriber Listener",e.message)}t.subTimeout=setTimeout(()=>{e()},1*s)}(),w("Listening","green")}(i.streamID);break;case"YouTubeLiveUpdateBroadcast":!async function(e,n,s,i){i!==a.streamID&&await S();const o={id:a.broadcastID,snippet:{title:e&&0!=e?e:t.myBroadcastInfo.title,description:n&&0!=n?n:t.myBroadcastInfo.description,categoryId:s&&0!=s?s:t.myBroadcastInfo.categoryID}};await k("videos?part=id,snippet",null,"PUT",o).then(e=>{LBAlert("YouTube Live: Broadcast updated!"),t.myBroadcastInfo.title=e.snippet.title,t.myBroadcastInfo.description=e.snippet.description,t.myBroadcastInfo.categoryID=e.snippet.categoryId}).catch(e=>B("Update Broadcast",e.message))}(i.title,i.description,i.categoryId,i.streamId);break;case"YouTubeLiveGetMyChannelStats":if(LBStackDelete(i.stackName),!n.myChannelInfo.title)return void B("Get My Channel Stats","No stats found.");LBStackAppend(i.stackName,[n.myChannelInfo.title,n.myChannelInfo.id,n.myChannelInfo.viewCount,n.myChannelInfo.subCount,n.myChannelInfo.videoCount]);break;case"YouTubeLiveGetMyBroadcastStats":if(LBStackDelete(i.stackName),!t.myBroadcastInfo.title)return void B("Get My Broadcast Stats","No stats found or broadcast is offline.");LBStackAppend(i.stackName,[t.myBroadcastInfo.title,t.myBroadcastInfo.duration,t.myBroadcastInfo.viewCount,t.myBroadcastInfo.likeCount,t.myBroadcastInfo.dislikeCount,t.myBroadcastInfo.concurrentViewers]);break;case"YouTubeLiveBanorUnbanUser":!async function(e,t,s,i,o){let r;const c=a.chatID||S(),l=t.length>2?t:null==n?void 0:n.channelIds[e.toLowerCase()];if(!c)return void B("Ban/Unban","No chat ID found");if(!l)return void B("Ban/Unban","Channel ID not found.");if("unban"===s){if(!n.banlist[l])return void B("Ban/Unban","Could not find original ban ID.");r=n.banlist[l]}const u="ban"===s?"liveChat/bans?part=snippet":`liveChat/bans?id=${r}`,d="ban"===s?"POST":"DELETE";let m;"ban"===s&&(m={snippet:{liveChatId:c,type:1==i?"permanent":"temporary",banDurationSeconds:0==i&&"ban"===s?60*o:void 0,bannedUserDetails:{channelId:l}}});await k(u,null,d,m).then(e=>{"ban"===s&&1==i?n.banlist[l]=e.id:delete n.banlist[l]}).catch(e=>{"insufficientPermissions"===e.reason&&(e.message="Insufficient permissions or user is already banned."),B("Ban/Unban user",e.message)})}(i.displayName,i.channelid,i.type,i.permanent,i.duration);break;case"YouTubeLiveCheckSubStatus":!async function(e,t,a){const s=t.length>2?t:n.channelIds[e.toLowerCase()];if(!s)return void B("Check Sub Status","Channel ID for the given display name not found.");const i=`subscriptions?part=subscriberSnippet&part=snippet&forChannelId=${n.myChannelInfo.id}&channelId=${s}&maxResults=50`;await k(i,"checkSubStatus").then(e=>{var t;const n=(null==e?void 0:null===(t=e.pageInfo)||void 0===t?void 0:t.totalResults)>=1?"true":"false";LBSetValue(a,n)}).catch(e=>B("Check Sub Status",e.message))}(i.displayName,i.channelid,i.variable);break;case"YouTubeLiveGetMemberInfo":!async function(e,t,a){LBAlert("YouTube Live Get Member Info Command is not yet functional.")}(i.displayName,i.channelid,i.stackName);break;case"YouTubeLiveGetCategories":{const e=[];LBStackDelete(i.stackName);for(const[t,a]of Object.entries(n.categories))e.push(`${t.replace(/&/g,"and")}: ${a}`);LBStackAppend(i.stackName,e)}break;case"YouTubeLiveGetStatus":t.status&&w(t.status[0],t.status[1])}}async function S(e){return await k("liveBroadcasts?part=contentDetails&part=snippet&broadcastStatus=active","getCurrentBroadcast").then(t=>{if(0===t.pageInfo.totalResults)throw{message:"No active broadcast found."};e&&t.items.filter(t=>t.contentDetails.boundStreamId===e);const n=t.items[0];a.broadcastID=n.id,a.chatID=n.snippet.liveChatId,a.streamID=n.contentDetails.boundStreamId,sessionStorage.setItem("ytLiveParams",JSON.stringify(a))}).catch(e=>B("List Broadcasts",e.message)),a.chatID}function C(e,a,s=!1){var i,o,r;if("NewSubscriber"!==e)switch(n.ytLiveLogChecked&&!s&&"textMessageEvent"!==a.snippet.type&&T(a.snippet.type,a,Date.now()),a.snippet.type){default:break;case"chatEndedEvent":return LBAlert("YouTube Live: Chat has ended."),LBTriggerExt("YT Live Chat Ended"),w("Chat ended.","red"),L(!1),t.subTimeout&&clearTimeout(t.subTimeout),void(t.broadcastStatsTimeout&&clearTimeout(t.broadcastStatsTimeout));case"textMessageEvent":!function(e){const t=[];e.authorDetails.isChatOwner&&t.push("broadcaster/1");e.authorDetails.isChatModerator&&t.push("moderator/1");e.authorDetails.isChatSponsor&&t.push("subscriber/1");e.authorDetails.isVerified&&t.push("vip/1");const a={emotes:e.authorDetails.profileImageUrl,login:e.authorDetails.displayName.toLowerCase(),display_name:e.authorDetails.displayName,user_id:e.authorDetails.channelId,color:0,badge:t.join(","),message:e.snippet.textMessageDetails.messageText.replace(/"/g,"'"),channel:e.authorDetails.channelUrl,topic:"chatmessage",type:"MESSAGE"};lioranboardclient.send(JSON.stringify(a))}(a);break;case"newSponsorEvent":LBTriggerExt("YT Live Member",a.authorDetails.displayName,a.snippet.newSponsorDetails.memberLevelName,a.authorDetails.channelId,a.authorDetails.channelUrl,a.authorDetails.profileImageUrl);break;case"superChatEvent":LBTriggerExt("YT Live Super Chat",a.authorDetails.displayName,a.snippet.superChatDetails.amountMicros,a.snippet.superChatDetails.amountDisplayString,`${a.snippet.superChatDetails.tier}`,null===(i=a.snippet.superChatDetails)||void 0===i?void 0:null===(o=i.userComment)||void 0===o?void 0:o.replace(/"/g,"'"),a.authorDetails.channelId,a.authorDetails.channelUrl,a.authorDetails.profileImageUrl);break;case"superStickerEvent":LBTriggerExt("YT Live Super Sticker",a.authorDetails.displayName,a.snippet.superStickerDetails.amountMicros,a.snippet.superStickerDetails.amountDisplayString,`${a.snippet.superStickerDetails.tier}`,a.authorDetails.channelId,a.authorDetails.channelUrl,a.authorDetails.profileImageUrl,a.snippet.superStickerDetails.superStickerMetadata.stickerId,a.snippet.superStickerDetails.superStickerMetadata.altText);break;case"memberMilestoneChatEvent":LBTriggerExt("YT Live Member Milestone",a.authorDetails.displayName,a.snippet.memberMilestoneChatDetails.memberLevelName,`${a.snippet.memberMilestoneChatDetails.memberMonth}`,null===(r=a.snippet.memberMilestoneChatDetails.userComment)||void 0===r?void 0:r.replace(/"/g,"'"),a.authorDetails.channelId,a.authorDetails.channelUrl,a.authorDetails.profileImageUrl)}else{n.ytLiveLogChecked&&!s&&T("NewSubscriber",a,Date.now());const e=a.subscriberSnippet;LBTriggerExt("YT Live Subscriber",e.title,e.channelId,e.thumbnails.default.url)}}async function k(e,t=null,s="GET",i=null){const o={method:s,headers:{Authorization:`Bearer ${a.accessToken}`}};t&&n[t]&&n[t].etag&&(o.headers["If-None-Match"]=n[t].etag),i&&(o.body=JSON.stringify(i));const r=await fetch(`https://www.googleapis.com/youtube/v3/${e}`,o);let c;try{c=await r.json()}catch(e){}if(!r.ok){if(304!==r.status){var l,u,d,m,h,p;throw console.log(null===(l=c)||void 0===l?void 0:null===(u=l.error)||void 0===u?void 0:u.message),{reason:null===(d=c)||void 0===d?void 0:d.error.errors[0].reason,message:(null===(m=c)||void 0===m?void 0:null===(h=m.error)||void 0===h?void 0:h.message)||(null===(p=c)||void 0===p?void 0:p.error)||"Something went wrong."}}c=n[t]}return t&&(n[t]=c),c}function w(e,a){const n="red"===a?"text-danger":"orange"===a?"text-warning":"blue"===a?"text-info":"green"===a?"text-success":"text-light";t.status=[e,a],LBTriggerExt("YTLiveStatus",e,i[a][0],i[a][1],i[a][2]),document.getElementById("ytLiveConnection").innerHTML=`<b>Status:</b> <span class="${n}">${e}</span>`,ytLiveConnectionTSL&&(document.getElementById("ytLiveConnectionTSL").innerHTML=`<span class="${n} d-none d-md-inline-flex" id="ytLiveConnectionTSL">${e}</span>`,document.getElementById("toYtLive_circle").setAttribute("fill","blue"===a?"#a3e1ff":a))}function B(e,a,n=!1){const s=`YouTube Live ${e} error: ${a}`;n?LBPopUp(M(s)):LBAlert(M(s)),LBTriggerExt("YTLiveErrors"),t.errors.push({[e]:a}),c.setAttribute("class","ms-2 text-decoration-none"),r.innerHTML=t.errors.length}function M(e){return e=(e=e.replace(/(?:\r\n|\r|\n)/g,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")).toString().replace(/"/g,"'").replace(/\//g,"/").replace(/\\/g,"\\\\")}v.checked=n.ytLiveLogChecked||!1,y.innerHTML=n.ytLiveLogChecked?"<samp>Listening for traffic.</samp>":"<samp>Event replays are disabled.</samp>",!e||e.length<5?B("token","Refresh token is missing! Retrieve your refresh token and add it in your INIT button first",!0):(await L(!1),a.accessToken&&(lioranboardclient.removeEventListener("message",I),lioranboardclient.addEventListener("message",I),t.status&&"Listening"===(null==t?void 0:t.status[0])&&t.subTimeout&&t.chatTimeout&&t.broadcastStatsTimeout||(await async function(){await k("channels?part=snippet%2Cstatistics&mine=true","getMyChannelInfo").then(e=>{var t;const a=null==e?void 0:e.items[0];if(!a)return;const s=(null==n?void 0:null===(t=n.myChannelInfo)||void 0===t?void 0:t.id)||void 0;if(n.myChannelInfo={id:a.id,title:a.snippet.title,country:a.snippet.country,viewCount:a.statistics.viewCount,subCount:a.statistics.subscriberCount,videoCount:a.statistics.videoCount},s===a.id&&n.categories&&0!==Object.keys(null==n?void 0:n.categories).length){const e=document.getElementById("YTLiveCategories");e.innerHTML="";for(const[t,a]of Object.entries(n.categories))e.innerHTML+=`${t}: ${a}<br>`}else!async function(){var e;n.categories={};const t=`videoCategories?part=snippet&regionCode=${(null==n?void 0:null===(e=n.myChannelInfo)||void 0===e?void 0:e.country)||void 0}`,a=document.getElementById("YTLiveCategories");a.innerHTML="",await k(t,"getCategories").then(e=>{e.items.forEach(e=>{e.snippet.assignable&&(n.categories[e.snippet.title]=e.id,a.innerHTML+=`${e.id}: ${e.snippet.title}<br>`)})}).catch(e=>B("YouTube Get Categories",e.message))}();document.getElementById("ytLiveChanTitle").innerHTML=n.myChannelInfo.title,document.getElementById("ytLiveChanID").innerHTML=n.myChannelInfo.id,document.getElementById("ytLiveChanViewCount").innerHTML=n.myChannelInfo.viewCount,document.getElementById("ytLiveChanSubCount").innerHTML=n.myChannelInfo.subCount,document.getElementById("ytLiveChanVideoCount").innerHTML=n.myChannelInfo.videoCount}).catch(e=>B("Get My Channel Info",e.message))}(),v.onclick=function(){n.ytLiveLogChecked=v.checked,y.innerHTML=v.checked?"<samp>Listening for traffic.</samp>":"<samp>Event replays are disabled.</samp>",localStorage.setItem("ytLiveStorage",JSON.stringify(n))},f.onclick=function(){if(!g.options[g.selectedIndex])return;const e=g.options[g.selectedIndex].id,a=t.replays[e];y.innerHTML=`<samp>${a}</samp>`},b.onclick=function(){const e=g.options[g.selectedIndex].id,a=g.options[g.selectedIndex].value,n=t.replays[e];C(a,JSON.parse(n),!0)},c.onclick=function(){const e=document.getElementById("ytLiveErrorDiv"),a=JSON.stringify(t.errors),n=document.createElement("a");n.href=`data:attachment/text,${encodeURI(a)}`,n.target="_blank",n.download="YouTube Live Error Log.json",e.appendChild(n),n.click(),n.remove()},w("Ready","blue"),setTimeout(()=>{!function e(){localStorage.setItem("ytLiveStorage",JSON.stringify(n));setTimeout(()=>{e()},1*s)}()},5e3))))}