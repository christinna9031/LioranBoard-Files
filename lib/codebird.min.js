"use strict";var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],s=!0,i=!1,n=void 0;try{for(var o,a=e[Symbol.iterator]();!(s=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);s=!0);}catch(e){i=!0,n=e}finally{try{!s&&a.return&&a.return()}finally{if(i)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){var Codebird=function(){function Codebird(){_classCallCheck(this,Codebird),this._oauth_consumer_key=null,this._oauth_consumer_secret=null,this._oauth_bearer_token=null,this._endpoint_base="https://api.twitter.com/",this._endpoint_base_media="https://upload.twitter.com/",this._endpoint=this._endpoint_base+"1.1/",this._endpoint_media=this._endpoint_base_media+"1.1/",this._endpoint_publish="https://publish.twitter.com/",this._endpoint_oauth=this._endpoint_base,this._endpoint_proxy="https://api.jublo.net/codebird/",this._use_proxy="undefined"!=typeof navigator&&void 0!==navigator.userAgent,this._oauth_token=null,this._oauth_token_secret=null,this._version="3.0.0-dev",this.b64_alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}return _createClass(Codebird,[{key:"setConsumerKey",value:function(e,t){this._oauth_consumer_key=e,this._oauth_consumer_secret=t}},{key:"setBearerToken",value:function(e){this._oauth_bearer_token=e}},{key:"getVersion",value:function(){return this._version}},{key:"setToken",value:function(e,t){this._oauth_token=e,this._oauth_token_secret=t}},{key:"logout",value:function(){return this._oauth_token=this._oauth_token_secret=null,!0}},{key:"setUseProxy",value:function(e){this._use_proxy=!!e}},{key:"setProxy",value:function(e){e.match(/\/$/)||(e+="/"),this._endpoint_proxy=e}},{key:"_url",value:function(e){return/boolean|number|string/.test(void 0===e?"undefined":_typeof(e))?encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A"):""}},{key:"_sha1",value:function(e){function t(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var s=new Array(80),i=1732584193,n=-271733879,o=-1732584194,a=271733878,u=-1009589776,c=0;c<e.length;c+=16){for(var l=i,h=n,_=o,d=a,f=u,p=0;80>p;p++){var y=void 0;y=p<16?e[c+p]:(y=s[p-3]^s[p-8]^s[p-14]^s[p-16])<<1|y>>>31,s[p]=y,y=r(r(i<<5|i>>>27,20>p?n&o|~n&a:40>p?n^o^a:60>p?n&o|n&a|o&a:n^o^a),r(r(u,s[p]),20>p?1518500249:40>p?1859775393:60>p?-1894007588:-899497514)),u=a,a=o,o=n<<30|n>>>2,n=i,i=y}i=r(i,l),n=r(n,h),o=r(o,_),a=r(a,d),u=r(u,f)}return[i,n,o,a,u]}function r(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e){for(var t=[],r=(1<<i)-1,s=0;s<e.length*i;s+=i)t[s>>5]|=(e.charCodeAt(s/i)&r)<<24-s%32;return t}var i=8,n=this._oauth_consumer_secret+"&"+(null!==this._oauth_token_secret?this._oauth_token_secret:"");if(null===this._oauth_consumer_secret)throw"To generate a hash, the consumer secret must be set.";var o=s(n);o.length>16&&(o=t(o,n.length*i));for(var a=new Array(16),u=new Array(16),c=0;c<16;c++)u[c]=909522486^o[c],a[c]=1549556828^o[c];for(o=t(u.concat(s(e)),512+e.length*i),a=t(a.concat(o),672),n="",i=0;i<4*a.length;i+=3)for(c=(a[i>>2]>>8*(3-i%4)&255)<<16|(a[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|a[i+2>>2]>>8*(3-(i+2)%4)&255,e=0;4>e;e++)n=8*i+6*e>32*a.length?n+"=":n+this.b64_alphabet.charAt(c>>6*(3-e)&63);return n}},{key:"_base64_encode",value:function(e){var t=void 0,r=void 0,s=void 0,i=void 0,n=0,o=0,a=this.b64_alphabet,u=[];if(!e)return e;do{t=(i=(t=e.charCodeAt(n++))<<16|(r=e.charCodeAt(n++))<<8|(s=e.charCodeAt(n++)))>>18&63,r=i>>12&63,s=i>>6&63,i&=63,u[o++]=a.charAt(t)+a.charAt(r)+a.charAt(s)+a.charAt(i)}while(n<e.length);return a=u.join(""),((e=e.length%3)?a.slice(0,e-3):a)+"===".slice(e||3)}},{key:"_http_build_query",value:function(e,t,r){function s(e,t,r){var i=void 0,n=[];if(!0===t?t="1":!1===t&&(t="0"),null!==t){if("object"===(void 0===t?"undefined":_typeof(t))){for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&n.push(s.call(this,e+"["+i+"]",t[i],r));return n.join(r)}if("function"!=typeof t)return this._url(e)+"="+this._url(t);throw"There was an error processing for http_build_query()."}return""}var i,n,o=[];for(n in r||(r="&"),e)e.hasOwnProperty(n)&&(i=e[n],t&&!isNaN(n)&&(n=String(t)+n),""!==(i=s.call(this,n,i,r))&&o.push(i));return o.join(r)}},{key:"_nonce",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e<1)throw"Invalid nonce length.";for(var t="",r=0;r<e;r++){var s=Math.floor(61*Math.random());t+=this.b64_alphabet.substring(s,s+1)}return t}},{key:"_ksort",value:function(e){var t,r=[],s=void 0;for(s in t=function(e,t){var r=parseFloat(e),s=parseFloat(t),i=r+""===e,n=s+""===t;return i&&n?r>s?1:r<s?-1:0:i&&!n?1:!i&&n?-1:e>t?1:e<t?-1:0},e)e.hasOwnProperty(s)&&r.push(s);return r.sort(t),r}},{key:"_clone",value:function(e){var t={};for(var r in e)"object"===_typeof(e[r])?t[r]=this._clone(e[r]):t[r]=e[r];return t}},{key:"_getXmlRequestObject",value:function(){var e=null;if("object"===("undefined"==typeof window?"undefined":_typeof(window))&&window&&void 0!==window.XMLHttpRequest)e=new window.XMLHttpRequest;else if("object"===("undefined"==typeof Ti?"undefined":_typeof(Ti))&&Ti&&void 0!==Ti.Network.createHTTPClient)e=Ti.Network.createHTTPClient();else if("undefined"!=typeof ActiveXObject)try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){throw"ActiveXObject object not defined."}else if("function"==typeof require){try{e=new(0,require("xmlhttprequest").XMLHttpRequest)}catch(t){try{e=new(require("xhr2"))}catch(e){throw"xhr2 object not defined, cancelling."}}}return e}},{key:"_parse_str",value:function _parse_str(str,array){var glue1="=",glue2="&",array2=String(str).replace(/^&?([\s\S]*?)&?$/,"$1").split(glue2),i,j,chr,tmp,key,value,bracket,keys,evalStr,fixStr=function(e){return decodeURIComponent(e).replace(/([\\"'])/g,"\\$1").replace(/\n/g,"\\n").replace(/\r/g,"\\r")};for(array||(array=this.window),i=0;i<array2.length;i++){for(tmp=array2[i].split(glue1),tmp.length<2&&(tmp=[tmp,""]),key=fixStr(tmp[0]),value=fixStr(tmp[1]);" "===key.charAt(0);)key=key.substr(1);if(key.indexOf("\0")>-1&&(key=key.substr(0,key.indexOf("\0"))),key&&"["!==key.charAt(0)){for(keys=[],bracket=0,j=0;j<key.length;j++)if("["!==key.charAt(j)||bracket){if("]"===key.charAt(j)&&bracket&&(keys.length||keys.push(key.substr(0,bracket-1)),keys.push(key.substr(bracket,j-bracket)),bracket=0,"["!==key.charAt(j+1)))break}else bracket=j+1;for(keys.length||(keys=[key]),j=0;j<keys[0].length&&(chr=keys[0].charAt(j)," "!==chr&&"."!==chr&&"["!==chr||(keys[0]=keys[0].substr(0,j)+"_"+keys[0].substr(j+1)),"["!==chr);j++);for(evalStr="array",j=0;j<keys.length;j++)key=keys[j],key=""!==key&&" "!==key||0===j?"'"+key+"'":eval(evalStr+".push([]);")-1,evalStr+="["+key+"]",j!==keys.length-1&&"undefined"===eval("typeof "+evalStr)&&eval(evalStr+" = [];");evalStr+=" = '"+value+"';\n",eval(evalStr)}}}},{key:"getApiMethods",value:function(){return{GET:["account/settings","account/verify_credentials","account_activity/all/:env_name/subscriptions","account_activity/all/:env_name/subscriptions/list","account_activity/all/:env_name/webhooks","account_activity/all/webhooks","account_activity/subscriptions/count","account_activity/webhooks","account_activity/webhooks/:webhook_id/subscriptions/all","account_activity/webhooks/:webhook_id/subscriptions/all/list","application/rate_limit_status","blocks/ids","blocks/list","collections/entries","collections/list","collections/show","custom_profiles/:id","custom_profiles/list","direct_messages/events/list","direct_messages/events/show","direct_messages/welcome_messages/list","direct_messages/welcome_messages/rules/list","direct_messages/welcome_messages/rules/show","direct_messages/welcome_messages/show","favorites/list","feedback/events","feedback/show/:id","followers/ids","followers/list","friends/ids","friends/list","friendships/incoming","friendships/lookup","friendships/lookup","friendships/no_retweets/ids","friendships/outgoing","friendships/show","geo/id/:place_id","geo/reverse_geocode","geo/search","help/configuration","help/languages","help/privacy","help/tos","lists/list","lists/members","lists/members/show","lists/memberships","lists/ownerships","lists/show","lists/statuses","lists/subscribers","lists/subscribers/show","lists/subscriptions","mutes/users/ids","mutes/users/list","oauth/authenticate","oauth/authorize","saved_searches/list","saved_searches/show/:id","search/tweets","statuses/home_timeline","statuses/mentions_timeline","statuses/oembed","statuses/retweeters/ids","statuses/retweets/:id","statuses/retweets_of_me","statuses/sample","statuses/show/:id","statuses/user_timeline","trends/available","trends/closest","trends/place","users/profile_banner","users/search","users/show","users/suggestions","users/suggestions/:slug","users/suggestions/:slug/members"],POST:["account/remove_profile_banner","account/settings__post","account/update_profile","account/update_profile_banner","account/update_profile_image","account_activity/all/:env_name/subscriptions","account_activity/all/:env_name/webhooks","account_activity/webhooks","account_activity/webhooks/:webhook_id/subscriptions/all","blocks/create","blocks/destroy","collections/create","collections/destroy","collections/entries/add","collections/entries/curate","collections/entries/move","collections/entries/remove","collections/update","custom_profiles/new","direct_messages/events/new","direct_messages/indicate_typing","direct_messages/mark_read","direct_messages/welcome_messages/new","direct_messages/welcome_messages/rules/new","favorites/create","favorites/destroy","feedback/create","friendships/create","friendships/destroy","friendships/update","lists/create","lists/destroy","lists/members/create","lists/members/create_all","lists/members/destroy","lists/members/destroy_all","lists/subscribers/create","lists/subscribers/destroy","lists/update","media/metadata/create","media/upload","mutes/users/create","mutes/users/destroy","oauth/access_token","oauth/request_token","oauth2/invalidate_token","oauth2/token","saved_searches/create","saved_searches/destroy/:id","statuses/destroy/:id","statuses/filter","statuses/lookup","statuses/retweet/:id","statuses/unretweet/:id","statuses/update","users/lookup","users/report_spam"]}}},{key:"_getDfd",value:function(){if("undefined"!=typeof window){if(void 0!==window.jQuery&&window.jQuery.Deferred)return window.jQuery.Deferred();if(void 0!==window.Q&&window.Q.defer)return window.Q.defer();if(void 0!==window.RSVP&&window.RSVP.defer)return window.RSVP.defer();if(void 0!==window.when&&window.when.defer)return window.when.defer()}if("undefined"!=typeof require){var e=!1;try{e=require("jquery")}catch(e){}if(e)return e.Deferred();try{e=require("q")}catch(e){}if(!e)try{e=require("rsvp")}catch(e){}if(!e)try{e=require("when")}catch(e){}if(e)try{return e.defer()}catch(e){}}return!1}},{key:"_getPromise",value:function(e){return"function"==typeof e.promise?e.promise():e.promise}},{key:"_parseApiParams",value:function(e){var t={};return"object"===(void 0===e?"undefined":_typeof(e))?t=e:this._parse_str(e,t),t}},{key:"_stringifyNullBoolParams",value:function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];null===r?e[t]="null":!0!==r&&!1!==r||(e[t]=r?"true":"false")}return e}},{key:"_mapFnInsertSlashes",value:function(e){return e.split("_").join("/")}},{key:"_mapFnRestoreParamUnderscores",value:function(e){var t=["screen_name","place_id"],r=void 0,s=void 0,i=void 0;for(r=0;r<t.length;r++)i=(s=t[r].toUpperCase()).split("_").join("/"),e=e.split(i).join(s);return e}},{key:"_mapFnToApiMethod",value:function(e,t){var r="",s=void 0,i=void 0,n=void 0;r=this._mapFnInsertSlashes(e);var o=r=this._mapFnRestoreParamUnderscores(r),a=r.match(/[A-Z_]{2,}/);if(a)for(i=0;i<a.length;i++){var u=(s=a[i]).toLowerCase();if(o=o.split(s).join(":"+u),void 0===t[u]){for(n=0;n<26;n++)o=o.split(String.fromCharCode(65+n)).join("_"+String.fromCharCode(97+n));throw'To call the templated method "'+o+'", specify the parameter value for "'+u+'".'}r=r.split(s).join(t[u]),delete t[u]}for(i=0;i<26;i++)r=r.split(String.fromCharCode(65+i)).join("_"+String.fromCharCode(97+i)),o=o.split(String.fromCharCode(65+i)).join("_"+String.fromCharCode(97+i));return[r,o]}},{key:"_detectMethod",value:function(e,t){if(void 0!==t.httpmethod){var r=t.httpmethod;return delete t.httpmethod,r}switch(e){case"account/settings":case"account/login_verification_enrollment":case"account/login_verification_request":e=Object.keys(t).length?e+"__post":e}var s=this.getApiMethods();for(var i in s)if(s.hasOwnProperty(i)&&s[i].indexOf(e)>-1)return i;throw"Can't find HTTP method to use for \""+e+'".'}},{key:"_detectMultipart",value:function(e){return["media/upload"].indexOf(e)>-1}},{key:"_getSignature",value:function(e,t,r,s){for(var i="",n=void 0,o=void 0,a=0;a<r.length;a++)o=s[n=r[a]],i+=n+"="+this._url(o)+"&";return i=i.substring(0,i.length-1),this._sha1(e+"&"+this._url(t)+"&"+this._url(i))}},{key:"_time",value:function(){return Math.round((new Date).getTime()/1e3)}},{key:"_sign",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null===this._oauth_consumer_key)throw"To generate a signature, the consumer key must be set.";var s={consumer_key:this._oauth_consumer_key,version:"1.0",timestamp:this._time(),nonce:this._nonce(),signature_method:"HMAC-SHA1"},i={};for(var n in s)if(s.hasOwnProperty(n)){var o=s[n];i["oauth_"+n]=this._url(o)}null!==this._oauth_token&&(i.oauth_token=this._url(this._oauth_token));var a=this._clone(i);for(n in r)r.hasOwnProperty(n)&&(i[n]=r[n]);var u=this._ksort(i),c=this._getSignature(e,t,u,i);(r=a).oauth_signature=c,u=this._ksort(r);for(var l="OAuth ",h=0;h<u.length;h++)l+=(n=u[h])+'="'+this._url(r[n])+'", ';return l.substring(0,l.length-2)}},{key:"_buildMultipart",value:function(e,t){if(this._detectMultipart(e)){var r={"media/upload":"media","account/update_profile_image":"image","account/update_profile_banner":"banner"};if(-1!==["media/upload","account/update_profile_image","account/update_profile_banner"].indexOf(e)){r=r[e].split(" ");var s="--------------------"+this._nonce(),i="";for(var n in t)t.hasOwnProperty(n)&&(i+="--"+s+'\r\nContent-Disposition: form-data; name="'+n+'"',-1===r.indexOf(n)&&(i+="\r\nContent-Transfer-Encoding: base64"),i+="\r\n\r\n"+t[n]+"\r\n");return i+="--"+s+"--",console.log(i),i}}}},{key:"_detectMedia",value:function(e){return["media/metadata/create","media/upload"].indexOf(e)>-1}},{key:"_detectJsonBody",value:function(e){return["collections/entries/curate","custom_profiles/new","direct_messages/events/new","direct_messages/indicate_typing","direct_messages/mark_read","direct_messages/welcome_messages/new","direct_messages/welcome_messages/rules/new","direct_messages/welcome_messages/update","media/metadata/create"].indexOf(e)>-1}},{key:"_getEndpoint",value:function(e){return"oauth"===e.substring(0,5)?this._endpoint_oauth+e:this._detectMedia(e)?this._endpoint_media+e+".json":"statuses/oembed"===e?this._endpoint_publish+"oembed":this._endpoint+e+".json"}},{key:"_parseApiReply",value:function(e){if("string"!=typeof e||""===e)return{};if("[]"===e)return[];var t=void 0;try{t=JSON.parse(e)}catch(u){if(t={},e.match(/^<\?xml/)){var r=void 0;if(r=e.match(/<errors>(.+)<\/errors>/)){t.errors={},r=r[1].match(/<error [^<]+/g);for(var s=0;s<r.length;s++){var i=r[s].match(/code="(\d+)">(.+)/);t.errors[i[1]]=i[2]}}return t}for(var n=e.split("&"),o=0;o<n.length;o++){var a=n[o].split("=",2);a.length>1?t[a[0]]=decodeURIComponent(a[1]):t[a[0]]=null}}return t}},{key:"oauth_authenticate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authenticate",s=this._getDfd();if(void 0===e.force_login&&(e.force_login=null),void 0===e.screen_name&&(e.screen_name=null),-1===["authenticate","authorize"].indexOf(r)&&(r="authenticate"),null===this._oauth_token){var i="To get the "+r+" URL, the OAuth token must be set.";if(s)return s.reject({error:i}),this._getPromise(s);throw i}var n=this._endpoint_oauth+"oauth/"+r+"?oauth_token="+this._url(this._oauth_token);return!0===e.force_login&&(n+="&force_login=1"),null!==e.screen_name&&(n+="&screen_name="+e.screen_name),"function"==typeof t&&t(n),!s||(s.resolve({reply:n}),this._getPromise(s))}},{key:"oauth_authorize",value:function(e,t){return this.oauth_authenticate(e,t,"authorize")}},{key:"oauth2_token",value:function(e){var t=this,r=this._getDfd();if(null===this._oauth_consumer_key){var s="To obtain a bearer token, the consumer key must be set.";if(r)return r.reject({error:s}),this._getPromise(r);throw s}r||void 0!==e||(e=function(){});var i=this._endpoint_oauth+"oauth2/token";this._use_proxy&&(i=i.replace(this._endpoint_base,this._endpoint_proxy));var n=this._getXmlRequestObject();if(null!==n)return n.open("POST",i,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader((this._use_proxy?"X-":"")+"Authorization","Basic "+this._base64_encode(this._oauth_consumer_key+":"+this._oauth_consumer_secret)),n.onreadystatechange=function(){if(n.readyState>=4){var s=12027;try{s=n.status}catch(e){}var i="";try{i=n.responseText}catch(e){}var o=t._parseApiReply(i);o.httpstatus=s,200===s&&t.setBearerToken(o.access_token),"function"==typeof e&&e(o),r&&r.resolve({reply:o})}},n.onerror=function(t){"function"==typeof e&&e(null,t),r&&r.reject(t)},n.timeout=3e4,n.send("grant_type=client_credentials"),r?this._getPromise(r):void 0}},{key:"_callApi",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},a=this._getDfd(),u=this._getEndpoint(t),c=null,l=this._getXmlRequestObject();if(null!==l){var h=void 0;if("GET"===e){var _=u;"{}"!==JSON.stringify(r)&&(_+="?"+this._http_build_query(r)),n||(c=this._sign(e,u,r)),this._use_proxy&&(_=_.replace(this._endpoint_base,this._endpoint_proxy).replace(this._endpoint_base_media,this._endpoint_proxy)),l.open(e,_,!0)}else this._detectJsonBody(t)?(c=this._sign(e,u,{}),r=JSON.stringify(r)):(n||(c=this._sign(e,u,r)),r=this._http_build_query(r)),h=r,this._use_proxy&&(u=u.replace(this._endpoint_base,this._endpoint_proxy).replace(this._endpoint_base_media,this._endpoint_proxy)),l.open(e,u,!0),this._detectJsonBody(t)?l.setRequestHeader("Content-Type","application/json"):l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");if(n){if(null===this._oauth_consumer_key&&null===this._oauth_bearer_token){var d="To make an app-only auth API request, consumer key or bearer token must be set.";if(a)return a.reject({error:d}),this._getPromise(a);throw d}if(null===this._oauth_bearer_token)return a?this.oauth2_token().then(function(){return i._callApi(e,t,r,s,n,o)}):void this.oauth2_token(function(){i._callApi(e,t,r,s,n,o)});c="Bearer "+this._oauth_bearer_token}return null!==c&&l.setRequestHeader((this._use_proxy?"X-":"")+"Authorization",c),l.onreadystatechange=function(){if(l.readyState>=4){var e=12027;try{e=l.status}catch(e){}var t="";try{t=l.responseText}catch(e){}var r=i._parseApiReply(t);r.httpstatus=e;var s=null;void 0!==l.getResponseHeader&&""!==l.getResponseHeader("x-rate-limit-limit")&&(s={limit:l.getResponseHeader("x-rate-limit-limit"),remaining:l.getResponseHeader("x-rate-limit-remaining"),reset:l.getResponseHeader("x-rate-limit-reset")}),"function"==typeof o&&o(r,s),a&&a.resolve({reply:r,rate:s})}},l.onerror=function(e){"function"==typeof o&&o(null,null,e),a&&a.reject(e)},l.timeout=3e4,l.send("GET"===e?null:h),!a||this._getPromise(a)}}},{key:"__call",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch("function"!=typeof r&&"function"==typeof t?(r=t,t={},"boolean"==typeof r&&(s=r)):void 0===r&&(r=function(){}),e){case"oauth_authenticate":case"oauth_authorize":return this[e](t,r);case"oauth2_token":return this[e](r)}var i=this._parseApiParams(t);i=this._stringifyNullBoolParams(i),"oauth_requestToken"===e&&this.setToken(null,null);var n=this._mapFnToApiMethod(e,i),o=_slicedToArray(n,2),a=o[0],u=o[1],c=this._detectMethod(u,i),l=this._detectMultipart(u);return this._callApi(c,a,i,l,s,r)}}]),Codebird}();"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module&&"object"===_typeof(module.exports)?module.exports=Codebird:("object"===("undefined"==typeof window?"undefined":_typeof(window))&&window&&(window.Codebird=Codebird),"function"==typeof define&&define.amd&&define("codebird",[],function(){return Codebird}))}();