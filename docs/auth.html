  
<!DOCTYPE html>
<html>
  <head>
    <title>YouTube Authorization</title>
    <meta charset='utf-8' />
  </head>
  <body>
   <script>

let url_string = window.location.href
let url = new URL(url_string);
let code = url.searchParams.get("code");
let client_id = process.env.CLIENT_ID
let client_secret = process.env.CLIENT_SECRET

var xhr = new XMLHttpRequest();
xhr.open("POST", "https://oauth2.googleapis.com/token?client_id="+client_id+"&client_secret="+client_secret+"&grant_type=authorization_code&code="+code+"&redirect_uri=https://christinna9031.github.io");

xhr.setRequestHeader("Content-Type", "application/json");
xhr.setRequestHeader("Content-Length", "0");

xhr.onreadystatechange = function () {
   if (xhr.readyState === 4) {
      console.log(xhr.status);
      console.log(xhr.responseText);
   }};

xhr.send();  


/*
document.getElementById("text").innerHTML="<p>Your credentials: <code>"+credentials+"</code> <button id='copyCred'>Copy to Clipboard</button><br><br> Your refresh token: <code>"+refresh_token+"</code><button id='copytoken'>Copy to Clipboard</button></p>"

document.getElementById("copyCred").addEventListener("click", function (){
    CopyToClipboard (credentials,'copyCred')
})

document.getElementById("copytoken").addEventListener("click", function (){
    CopyToClipboard (refresh_token,'copytoken')
})

function CopyToClipboard (value,name){
    let copyhelper = document.createElement("input");
          copyhelper.className = 'copyhelper'
          document.body.appendChild(copyhelper);
          copyhelper.value = value;
          copyhelper.select();
          document.execCommand("copy");
          document.body.removeChild(copyhelper);
          let button=document.querySelector("#"+name)
          button.innerHTML = "Copied to Clipboard";

}
*/
   </script>
  </body>
</html>

