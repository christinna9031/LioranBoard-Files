var SpotifyWebApi=function(){const e="https://api.spotify.com/v1";let t=null,r=null;const o=function(e,t){return e.abort=t,e},n=function(){const e=Array.prototype.slice.call(arguments);let t=e[0];const r=e.slice(1);return t=t||{},r.forEach(e=>{for(const r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}),t},s=function(e,n){const s=new XMLHttpRequest,i=function(r,o){const i=e.type||"GET";if(s.open(i,function(e,t){let r="";for(const e in t)if(t.hasOwnProperty(e)){const o=t[e];r+=`${encodeURIComponent(e)}=${encodeURIComponent(o)}&`}return r.length>0&&(e=`${e}?${r=r.substring(0,r.length-1)}`),e}("https://lioranboardproxy.herokuapp.com/"+e.url,e.params)),t&&s.setRequestHeader("Authorization",`Bearer ${t}`),s.onreadystatechange=function(){if(4===s.readyState){let e=null;try{e=s.responseText?JSON.parse(s.responseText):""}catch(e){console.error(e)}s.status>=200&&s.status<300?function(e){r&&r(e),n&&n(null,e)}(e):(o&&o(s),n&&n(s,null))}},"GET"===i)s.send(null);else{let t=null;e.postData&&("image/jpeg"===e.contentType?(t=e.postData,s.setRequestHeader("Content-Type",e.contentType)):(t=JSON.stringify(e.postData),s.setRequestHeader("Content-Type","application/json"))),s.send(t)}};return n?(i(),null):function(e,t){let n;if(null!==r){const t=r.defer();e(e=>{t.resolve(e)},e=>{t.reject(e)}),n=t.promise}else window.Promise&&(n=new window.Promise(e));return n?new o(n,t):null}(i,()=>{s.abort()})},i=function(e,t,r,o){let i={},p=null;return"object"==typeof t?(i=t,p=r):"function"==typeof t&&(p=t),"GET"!==(e.type||"GET")&&e.postData&&!o?e.postData=n(e.postData,i):e.params=n(e.params,i),s(e,p)},p=function(){};return(p.prototype={constructor:SpotifyWebApi}).getGeneric=function(e,t){return i({url:e},t)},p.prototype.getCategoryPlaylists=function(t,r,o){return i({url:`${e}/browse/categories/${t}/playlists`},r,o)},p.prototype.getCategories=function(t,r){return i({url:`${e}/browse/categories`},t,r)},p.prototype.getUserPlaylists=function(t,r,o){let n;return"string"==typeof t?n={url:`${e}/users/${encodeURIComponent(t)}/playlists`}:(n={url:`${e}/me/playlists`},o=r,r=t),i(n,r,o)},p.prototype.transferMyPlayback=function(t,r,o){const n=r||{};return n.device_ids=t,i({type:"PUT",url:`${e}/me/player`,postData:n},r,o)},p.prototype.getMySavedTracks=function(t,r){return i({url:`${e}/me/tracks`},t,r)},p.prototype.addToMySavedTracks=function(t,r,o){return i({url:`${e}/me/tracks`,type:"PUT",postData:t},r,o)},p.prototype.ClearSRQueue=async function(){return localStorage.setItem("srqueue",JSON.stringify([])),1},p.prototype.removeFromMySavedTracks=function(t,r,o){return i({url:`${e}/me/tracks`,type:"DELETE",postData:t},r,o)},p.prototype.getMyTopTracks=function(t,r){return i({url:`${e}/me/top/tracks`},t,r)},p.prototype.getMyRecentlyPlayedTracks=function(t,r){return i({url:`${e}/me/player/recently-played`},t,r)},p.prototype.getPlaylist=function(t,r,o){return i({url:`${e}/playlists/${t}`},r,o)},p.prototype.getPlaylistTracks=function(t,r,o){return i({url:`${e}/playlists/${t}/tracks`},r,o)},p.prototype.getPlaylistCoverImage=function(t,r){return i({url:`${e}/playlists/${t}/images`},r)},p.prototype.getRecommendations=function(t,r){return i({url:`${e}/recommendations`},t,r)},p.prototype.getAvailableGenreSeeds=function(t){return i({url:`${e}/recommendations/available-genre-seeds`},{},t)},p.prototype.createPlaylist=function(t,r,o){const n={url:`${e}/users/${encodeURIComponent(t)}/playlists`,type:"POST",postData:r};return i(n,r,o)},p.prototype.addTracksToPlaylist=function(t,r,o,n){return i({url:`${e}/playlists/${t}/tracks`,type:"POST",postData:{uris:r}},o,n,!0)},p.prototype.removeTracksFromPlaylistInPositions=function(t,r,o,n){return i({url:`${e}/playlists/${t}/tracks`,type:"DELETE",postData:{positions:r,snapshot_id:o}},{},n)},p.prototype.getTrack=function(t,r,o){const n={};return n.url=`${e}/tracks/${t}`,i(n,r,o)},p.prototype.search=function(t,r,o,n){const s={url:`${e}/search/`,params:{q:t[0],type:t[1]}};return i(s,o,n)},p.prototype.searchAlbums=function(e,t,r){return this.search(e,["album"],t,r)},p.prototype.searchArtists=function(e,t,r){return this.search(e,["artist"],t,r)},p.prototype.searchTracks=function(e,t,r){return this.search(e,["track"],t,r)},p.prototype.searchPlaylists=function(e,t,r){return this.search(e,["playlist"],t,r)},p.prototype.getAudioFeaturesForTrack=function(t,r){const o={};return o.url=`${e}/audio-features/${t}`,i(o,{},r)},p.prototype.getMyCurrentPlaybackState=function(t,r){return i({url:`${e}/me/player`},t,r)},p.prototype.getMyCurrentPlayingTrack=function(t,r){return i({url:`${e}/me/player/currently-playing`},t,r)},p.prototype.play=function(t,r){const o="device_id"in(t=t||{})?{device_id:t.device_id}:null,n={};["context_uri","uris","offset","position_ms"].forEach(e=>{e in t&&(n[e]=t[e])});const s={type:"PUT",url:`${e}/me/player/play`,params:o,postData:n};return console.log(s),i(s,"function"==typeof t?t:{},r)},p.prototype.queue=function(t,r,o){const n="device_id"in(r=r||{})?{uri:t,device_id:r.device_id}:{uri:t};return i({type:"POST",url:`${e}/me/player/queue`,params:n},r,o)},p.prototype.pause=function(t,r){const o="device_id"in(t=t||{})?{device_id:t.device_id}:null;return i({type:"PUT",url:`${e}/me/player/pause`,params:o},t,r)},p.prototype.skipToNext=function(t,r){const o="device_id"in(t=t||{})?{device_id:t.device_id}:null;return i({type:"POST",url:`${e}/me/player/next`,params:o},t,r)},p.prototype.skipToPrevious=function(t,r){const o="device_id"in(t=t||{})?{device_id:t.device_id}:null;return i({type:"POST",url:`${e}/me/player/previous`,params:o},t,r)},p.prototype.seek=function(t,r,o){const n={position_ms:t};return"device_id"in(r=r||{})&&(n.device_id=r.device_id),i({type:"PUT",url:`${e}/me/player/seek`,params:n},r,o)},p.prototype.setRepeat=function(t,r,o){const n={state:t};return"device_id"in(r=r||{})&&(n.device_id=r.device_id),i({type:"PUT",url:`${e}/me/player/repeat`,params:n},r,o)},p.prototype.setVolume=function(t,r,o){const n={volume_percent:t};return"device_id"in(r=r||{})&&(n.device_id=r.device_id),i({type:"PUT",url:`${e}/me/player/volume`,params:n},r,o)},p.prototype.getMyDevices=function(t){return i({url:`${e}/me/player/devices`},{},t)},p.prototype.setShuffle=function(t,r,o){const n={state:t};return"device_id"in(r=r||{})&&(n.device_id=r.device_id),i({type:"PUT",url:`${e}/me/player/shuffle`,params:n},r,o)},p.prototype.getAccessToken=function(){return t},p.prototype.setAccessToken=function(e){t=e},p.prototype.setPromiseImplementation=function(e){let t=!1;try{const r=new e(e=>{e()});"function"==typeof r.then&&"function"==typeof r.catch&&(t=!0)}catch(e){console.error(e)}if(!t)throw new Error("Unsupported implementation of Promises/A+");r=e},p}();"object"==typeof module&&"object"==typeof module.exports&&(module.exports=SpotifyWebApi);